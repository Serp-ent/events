{% extends 'events/layout.html' %}

{% block title %}{{ profile.user.username }}'s Profile{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto bg-white shadow-md rounded-lg p-6 mt-8">
  <div class="flex items-center mb-6">
    <!-- Profile Picture -->
    <div class="h-14 aspect-square border rounded-full overflow-hidden bg-gray-200 mr-4">
      {% if profile.avatar %}
        <img 
          src="{{ profile.avatar.url }}" 
          alt="{{ profile.user.username }}'s Profile Picture" 
          class="w-full h-full object-cover"
        />
      {% else %}
        <!-- Default Placeholder if no profile picture -->
        <div class="w-full h-full bg-gray-300"></div>
      {% endif %}
    </div>

    <!-- Username -->
    <h1 class="text-2xl font-bold text-gray-800">{{ profile.user.username }}</h1>
  </div>

  <!-- Profile Bio -->
  {% if profile.bio %}
    <p class="text-gray-700 mb-4"><strong>Bio:</strong> {{ profile.bio }}</p>
  {% else %}
    <p class="text-gray-700 mb-4">No bio available.</p>
  {% endif %}

  <!-- Profile Location -->
  {% if profile.location %}
    <p class="text-gray-700 mb-4"><strong>Location:</strong> {{ profile.location }}</p>
  {% else %}
    <p class="text-gray-700 mb-4">Location not specified.</p>
  {% endif %}

  <!-- Profile Birth Date -->
  {% if profile.birth_date %}
    <p class="text-gray-700 mb-4"><strong>Birth Date:</strong> {{ profile.birth_date|date:"F j, Y" }}</p>
  {% else %}
    <p class="text-gray-700 mb-4">Birth date not specified.</p>
  {% endif %}

  <!-- Edit Profile Link for Authenticated User -->
  {% if user.is_authenticated and user == profile.user %}
    <div class="mt-6">
      <a href="{% url 'profiles:profile_edit' %}" class="text-blue-500 hover:underline">Edit Profile</a>
    </div>
  {% endif %}
</div>
{% endblock %}
